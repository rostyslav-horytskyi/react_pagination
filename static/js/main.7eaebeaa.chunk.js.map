{"version":3,"sources":["components/Pagination.js","App.js","index.js"],"names":["Pagination","visibleButtons","totalPosts","perPage","selectedPage","onPageChange","onNext","onPrev","onPerPageChange","availableButtons","Array","Math","ceil","length","fill","map","el","index","createNavigationLi","num","key","className","active","href","onClick","e","preventDefault","createButtonLi","disable","label","btnSymbol","eventCallback","disabled","aria-label","aria-hidden","filter","btn","slice","defaultValue","defaultProps","postFromServer","App","state","post","event","textContent","target","setState","value","this","addContentOnPage","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7eaebeaa.chunk.js","sourcesContent":["import React from 'react';\nimport className from 'classnames';\nimport PropTypes from 'prop-types';\n\nexport const Pagination = ({\n  totalPosts,\n  perPage,\n  selectedPage,\n  onPageChange,\n  onNext,\n  onPrev,\n  onPerPageChange,\n}) => {\n  const availableButtons = Array(Math.ceil(totalPosts.length / perPage))\n    .fill(1)\n    .map((el, index) => el + index);\n  let visibleButtons;\n\n  function createNavigationLi(num, key) {\n    return (\n      <li\n        key={key}\n        className={className(\n          'page-item',\n          { active: +selectedPage === num },\n        )}\n      >\n        <a\n          className=\"page-link\"\n          href=\"/\"\n          onClick={(e) => {\n            e.preventDefault();\n            onPageChange(e);\n          }}\n        >\n          {num}\n        </a>\n      </li>\n    );\n  }\n\n  function createButtonLi(disable, label, btnSymbol, eventCallback) {\n    return (\n      <li\n        className={className(\n          'page-item',\n          { disabled: +selectedPage === disable },\n        )}\n      >\n        <a\n          className=\"page-link\"\n          href=\"/\"\n          aria-label={label}\n          onClick={(e) => {\n            e.preventDefault();\n            eventCallback();\n          }}\n        >\n          <span aria-hidden=\"true\">{btnSymbol}</span>\n        </a>\n      </li>\n    );\n  }\n\n  function createVisibleButtons() {\n    if (availableButtons.length > 3) {\n      if (+selectedPage <= 3) {\n        visibleButtons = (\n          <>\n            {\n              availableButtons.filter(el => el < +selectedPage + 2)\n                .map(btn => createNavigationLi(btn, btn))\n            }\n            {createNavigationLi('...')}\n            {createNavigationLi(availableButtons.length)}\n          </>\n        );\n      }\n\n      if (+selectedPage >= 4) {\n        visibleButtons = (\n          <>\n            {createNavigationLi(1)}\n            {createNavigationLi('...')}\n            {\n              [...availableButtons]\n                .slice(2, availableButtons.length - 2)\n                .filter(\n                  el => el >= +selectedPage - 1 && el <= +selectedPage + 1,\n                ).map(btn => createNavigationLi(btn, btn))\n            }\n            {createNavigationLi('...')}\n            {createNavigationLi(availableButtons.length)}\n          </>\n        );\n      }\n\n      if (+selectedPage >= availableButtons.length - 2) {\n        visibleButtons = (\n          <>\n            {createNavigationLi(1)}\n            {createNavigationLi('...')}\n            {\n              availableButtons.filter(el => el > +selectedPage - 2)\n                .map(btn => createNavigationLi(btn, btn))\n            }\n          </>\n        );\n      }\n    } else {\n      visibleButtons = (\n        <>\n          {availableButtons.map(btn => createNavigationLi(btn, btn))}\n        </>\n      );\n    }\n\n    return visibleButtons;\n  }\n\n  return (\n    <>\n      <nav aria-label=\"Page navigation\">\n        <ul className=\"pagination justify-content-center\">\n          {createButtonLi(1, 'Previous', '«', onPrev)}\n          {createVisibleButtons()}\n          {createButtonLi(+availableButtons.length, 'Next', '»', onNext)}\n        </ul>\n      </nav>\n\n      <select onClick={e => onPerPageChange(e)} defaultValue={5}>\n        <option>3</option>\n        <option>5</option>\n        <option>10</option>\n        <option>20</option>\n      </select>\n    </>\n  );\n};\n\nPagination.propTypes = {\n  totalPosts: PropTypes.arrayOf(PropTypes.number).isRequired,\n  perPage: PropTypes.number,\n  selectedPage: PropTypes.number,\n  onPageChange: PropTypes.func.isRequired,\n  onNext: PropTypes.func.isRequired,\n  onPrev: PropTypes.func.isRequired,\n  onPerPageChange: PropTypes.func.isRequired,\n};\n\nPagination.defaultProps = {\n  perPage: 5,\n  selectedPage: 1,\n};\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { Pagination } from './components/Pagination';\n\nconst postFromServer = Array(42).fill(1).map((el, index) => el + index);\n\nclass App extends React.Component {\n  state = {\n    selectedPage: 1,\n    perPage: 5,\n    totalPosts: [...postFromServer],\n    post: 1,\n  }\n\n  onPageChange = (event) => {\n    const { textContent } = event.target;\n\n    this.setState(state => ({\n      selectedPage: +textContent,\n      post: (+textContent * state.perPage) - (state.perPage - 1),\n    }));\n  }\n\n  onPerPageChange = (event) => {\n    const { value } = event.target;\n\n    this.setState({\n      perPage: +value,\n      selectedPage: 1,\n      post: 1,\n    });\n  }\n\n  onNext = () => {\n    this.setState(state => ({\n      selectedPage: state.selectedPage + 1,\n      post: state.post + state.perPage,\n    }));\n  }\n\n  onPrev = () => {\n    this.setState(state => ({\n      selectedPage: state.selectedPage - 1,\n      post: state.post - state.perPage,\n    }));\n  }\n\n  addContentOnPage() {\n    const { totalPosts, perPage, post } = this.state;\n\n    return (\n      <>\n        {`Post ${post}-${post + (perPage - 1) < totalPosts.length\n          ? post + (perPage - 1)\n          : (totalPosts.length - post) + post} of ${totalPosts.length}`}\n      </>\n    );\n  }\n\n  render() {\n    const { selectedPage, totalPosts, perPage } = this.state;\n\n    return (\n      <div className=\"text-center\">\n        <h1>\n          Page\n          {' '}\n          {selectedPage}\n          {'/'}\n          {Math.ceil(totalPosts.length / perPage)}\n        </h1>\n        <Pagination\n          {...this.state}\n          onPageChange={this.onPageChange}\n          onPerPageChange={this.onPerPageChange}\n          onNext={this.onNext}\n          onPrev={this.onPrev}\n        />\n        <p>\n          {this.addContentOnPage()}\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}